<!doctype html>
<html lang="ru" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="~{fragments/layout :: head('Панель администратора')}"></head>
<body>
<header th:replace="~{fragments/layout :: header}"></header>
<section class="mt-5">
    <div class="container">
        <h2>Панель администратора</h2>
        <table class="mt-3 table table-bordered">
            <thead>
            <tr>
                <th>Имя пользователя</th>
                <th>Блокировка</th>
                <th>Ограничения</th>
                <th>Мин.длина</th>
                <th>Срок(мес.)</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td th:text="${user.username}"></td>
                <td th:text="${user.blocked ? '✔' : '❌'}"></td>
                <td th:text="${user.restriction ? '✔' : '❌'}"></td>
                <td th:text="${user.length}"></td>
                <td th:text="${user.month > 0 ? user.month : '-'}"></td>
                <td>
                    <a class="btn btn-info" th:href="@{/admin/users/edit/{id}(id=${user.id})}">Редактировать</a>
                </td>
            </tr>
            </tbody>
        </table>

        <a th:href="@{/admin/users/new}" class="btn btn-primary">Добавить пользователя</a>
        <a th:href="@{/admin/edit}" class="btn btn-primary">Сменить пароль</a>
        <form th:action="@{/logout}" method="post">
            <input type="hidden" th:if="${_csrf != null}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <button type="submit" class="btn btn-primary mt-3">Выйти</button>
        </form>

    </div>
</section>

<footer th:replace="~{fragments/layout :: footer}"></footer>
<th:block th:fragment="modals">
    <div class="modal fade" id="about" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Лабораторная работа по криптографии</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                </div>
                <div class="modal-body">
                    <p>Группа: ПИбд-43</p>
                    <p>ФИО: Катышева Наталья Евгеньевна</p>
                    <p>Вариант: 12</p>
                    <p>Ограничения: Чередование цифр, знаков арифметических операций и снова цифр</p>
                    <p>Режим шифрования DES: OFB</p>
                    <p>Добавление к ключу случайного значения: нет</p>
                    <p>Алгоритм хеширования пароля: SHA</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>
</th:block>
<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
</body>
</html>
